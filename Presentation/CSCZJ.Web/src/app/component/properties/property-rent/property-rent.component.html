<div class="component-container">
    <div nz-row>
        <div nz-col nzSpan="24" class="breadcrumb-container">
            <nz-breadcrumb>
                <nz-breadcrumb-item>
                    <a [routerLink]="'../'">
                        <span> 资产管理</span>
                    </a>
                </nz-breadcrumb-item>
                <nz-breadcrumb-item>
                    资产出租
                </nz-breadcrumb-item>
            </nz-breadcrumb>
        </div>
        <!-- {{propertyRent|json}} -->
        <div nz-col nzSpan="24">
            <nz-card [nzTitle]="'资产出租'" [nzExtra]="extraTemplate">
                <form nz-form [formGroup]="basicInfoForm">
                    <div class="m-b-md" nz-row>
                        <div nz-col nzSpan="24">
                            <nz-card nzTitle="基本信息">

                                <nz-form-item>
                                    <nz-form-label [nzSpan]="4" nzRequired>产权单位</nz-form-label>
                                    <nz-form-control [nzSpan]="20" nzHasFeedback>
                                        <nz-select formControlName="pPropertyId" [(ngModel)]="propertyRent.property_Id" nzPlaceHolder="请选择要出租的资产..." nzAllowClear
                                            nzShowSearch [nzServerSearch]="true" (nzOnSearch)="onSearch($event)">
                                            <ng-container *ngFor="let o of optionList">
                                                <nz-option *ngIf="!isGovernmentLoading" [nzValue]="o.id" [nzLabel]="o.name"></nz-option>
                                            </ng-container>
                                            <nz-option *ngIf="isGovernmentLoading" nzDisabled nzCustomContent>
                                                <i class="anticon anticon-loading anticon-spin loading-icon"></i> 搜索数据...
                                            </nz-option>
                                        </nz-select>

                                        <nz-form-explain *ngIf="basicInfoForm.get('pGovernmentId').dirty && basicInfoForm.get('pGovernmentId').errors">
                                            <ng-container *ngIf="basicInfoForm.get('pGovernmentId').hasError('required')">
                                                请选择资产产权单位！
                                            </ng-container>
                                        </nz-form-explain>
                                    </nz-form-control>
                                </nz-form-item>                              

                                <nz-form-item>
                                    <nz-form-label [nzSpan]="4" nzRequired>地址</nz-form-label>
                                    <nz-form-control [nzSpan]="20" nzHasFeedback>
                                        <input nz-input formControlName="pAddress" [(ngModel)]="propertyRent.address" placeholder="输入资产地址..." type="text">
                                        <nz-form-explain *ngIf="basicInfoForm.get('pAddress').dirty&&basicInfoForm.get('pAddress').errors">
                                            <ng-container *ngIf="basicInfoForm.get('pAddress').hasError('required')">
                                                请输入资产地址！
                                            </ng-container>
                                        </nz-form-explain>
                                    </nz-form-control>
                                </nz-form-item>

                                <nz-form-item>
                                    <nz-form-label [nzSpan]="4" nzRequired>出租日期</nz-form-label>
                                    <nz-form-control [nzSpan]="20" nzHasFeedback>
                                        <nz-range-picker [nzFormat]="dateFormat" [nzFormat]="'yyyy/MM/dd'"></nz-range-picker>
                                        <nz-form-explain *ngIf="basicInfoForm.get('pGetedDate').dirty && basicInfoForm.get('pGetedDate').errors || basicInfoForm.get('pGetedDate').pending ">
                                            <ng-container *ngIf="basicInfoForm.get('pGetedDate').hasError('required')">
                                                请选择获取日期！
                                            </ng-container>
                                        </nz-form-explain>
                                    </nz-form-control>
                                </nz-form-item>

                                <nz-form-item>
                                    <nz-form-label [nzSpan]="4" nzRequired>土地面积</nz-form-label>
                                    <nz-form-control [nzSpan]="20">
                                        <nz-input-number formControlName="pLandArea" [(ngModel)]="propertyRent.landArea" [nzMin]="1" [nzMax]="1000000000" [nzStep]="0.01"></nz-input-number>
                                        平方米
                                        <nz-form-explain *ngIf="basicInfoForm.get('pLandArea').dirty && basicInfoForm.get('pLandArea').errors">
                                            <ng-container *ngIf="basicInfoForm.get('pLandArea').hasError('required')">
                                                请输入土地面积！
                                            </ng-container>
                                        </nz-form-explain>
                                    </nz-form-control>
                                </nz-form-item>

                                <nz-form-item>
                                    <nz-form-label [nzSpan]="4">备注</nz-form-label>
                                    <nz-form-control [nzSpan]="20">
                                        <textarea formControlName="pDescription" [(ngModel)]="propertyRent.description" nz-input placeholder="输入资产备注说明信息..." [nzAutosize]="{ minRows: 2, maxRows: 6 }"></textarea>
                                    </nz-form-control>
                                </nz-form-item>
                            </nz-card>
                        </div>
                    </div>
                </form>
                <div nz-row>
                    <div nz-col nzAlign="center" [nzSpan]="24" class="text-right">
                        <button nz-button nzType="primary" (click)="pre()" *ngIf="current > 0 && current<3">上一步</button>
                        <button nz-button nzType="primary" (click)="next()" *ngIf="current < 3">下一步</button>
                    </div>
                </div>
            </nz-card>
            <ng-template #extraTemplate>
                <!-- <a class="m-r-md" [routerLink]="['../../', propertyRent.id]">
                    <i class="anticon anticon-profile"></i> 查看详细信息</a> -->
            </ng-template>
        </div>
    </div>
</div>